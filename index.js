(()=>{"use strict";var e={};function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var a=e.g.document;if(!t&&a&&(a.currentScript&&(t=a.currentScript.src),!t)){var n=a.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.p;var a=function(){function e(t){var a=t.parentContainer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentContainer=a}var a,n;return a=e,n=[{key:"create",value:function(){var e=document.createElement("header");e.id="header",this.parentContainer.appendChild(e);var t=document.createElement("h1");t.id="title",t.innerText="RSS Virtual Keyboard",e.appendChild(t);var a=document.createElement("main");a.id="main",this.parentContainer.appendChild(a);var n=document.createElement("footer");return n.id="footer",this.parentContainer.appendChild(n),{header:e,title:t,main:a,footer:n}}}],n&&t(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),e}();function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(t){var a=t.code,n=t.key,i=t.size,s=t.type,o=t.shiftAnalogue,r=t.parentContainer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.code=a,this.key=n,this.size=i,this.type=s,this.shiftAnalogue=o,this.parentContainer=r,this.backupKey=n,this.button=null}var t,a;return t=e,(a=[{key:"create",value:function(){var e=document.createElement("button");return e.id=this.code,e.classList.add("key","".concat(this.size)),e.innerText=this.key,this.parentContainer.appendChild(e),this.button=e,e}},{key:"keyDown",value:function(e){var t=e.altKey,a=e.ctrlKey,n=e.shiftKey,i=e.repeat;this.button.classList.add("active"),this.altKey=t,this.ctrlKey=a,this.shiftKey=n,this.repeat=i}},{key:"keyUp",value:function(e){var t=e.altKey,a=e.ctrlKey,n=e.shiftKey;this.button.classList.remove("active"),this.altKey=t,this.ctrlKey=a,this.shiftKey=n}}])&&n(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,a){return c(e,t),r(a,"get"),function(e,t){return t.get?t.get.call(e):t.value}(e,a)}function r(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function c(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}var d,y,l=function(){function e(t){var a=t.id,n=t.parentContainer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=a,this.parentContainer=n,e.self=this}var t,a,n;return t=e,n=[{key:"textInput",value:function(t){var a=o(e,e,p),n=a.value,i=a.selectionStart,s=a.selectionEnd;n="".concat(n.slice(0,i)).concat(t).concat(n.slice(s)),a.value=n,a.selectionStart=i+1,a.selectionEnd=i+1}},{key:"controlInput",value:function(t){var a=o(e,e,p),n=a.value,i=a.selectionStart,s=a.selectionEnd;switch(t){case"Backspace":if(0===s)break;i===s?(n="".concat(n.slice(0,i-1)).concat(n.slice(s)),a.value=n,a.selectionStart=i-1,a.selectionEnd=i-1):(n="".concat(n.slice(0,i)).concat(n.slice(s)),a.value=n,a.selectionStart=i,a.selectionEnd=i);break;case"Tab":n="".concat(n.slice(0,i),"\t").concat(n.slice(s)),a.value=n,a.selectionStart=i+1,a.selectionEnd=i+1;break;case"Enter":n="".concat(n.slice(0,i),"\r\n").concat(n.slice(s)),a.value=n,a.selectionStart=i+1,a.selectionEnd=i+1;break;case"Space":n="".concat(n.slice(0,i)," ").concat(n.slice(s)),a.value=n,a.selectionStart=i+1,a.selectionEnd=i+1;break;case"Delete":n=i===s?"".concat(n.slice(0,i)).concat(n.slice(s+1)):"".concat(n.slice(0,i)).concat(n.slice(s)),a.value=n,a.selectionStart=i,a.selectionEnd=i;break;case"ArrowLeft":a.selectionStart=i-1,a.selectionEnd=i-1;break;case"ArrowRight":n.length===i&&i===s?(a.selectionStart=0,a.selectionEnd=a.selectionStart):(a.selectionStart=i+1,a.selectionEnd=i+1);break;case"ArrowUp":!function(){if((n.slice(0,i).match(/\n/g)||[]).length+1<2)e.controlInput("ArrowLeft");else{var t=n.slice(0,i).lastIndexOf("\n"),s=i-t-1,o=n.slice(0,t).lastIndexOf("\n");t-o-1<s?(a.selectionStart=t,a.selectionEnd=a.selectionStart):(a.selectionStart=o+s+1,a.selectionEnd=a.selectionStart)}}();break;case"ArrowDown":!function(){if((n.slice(i).match(/\n/g)||[]).length+1<2)e.controlInput("ArrowRight");else{var t=n.slice(0,i).lastIndexOf("\n"),s=i-t-1,o=n.indexOf("\n",i),r=n.indexOf("\n",o+1);-1===r&&(r=n.length),r-o-1<s?(a.selectionStart=r,a.selectionEnd=a.selectionStart):(a.selectionStart=o+s+1,a.selectionEnd=a.selectionStart)}}()}}},{key:"getTextArea",value:function(){return o(e,e,p)}},{key:"getSelf",value:function(){return e.self}},{key:"activateTextArea",value:function(){o(e,e,p).focus()}}],(a=[{key:"create",value:function(){return function(e,t,a,n){c(e,t),r(a,"set"),function(e,t,a){if(t.set)t.set.call(e,a);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=a}}(e,a,n)}(e,e,p,document.createElement("textarea")),o(e,e,p).id=this.id,o(e,e,p).autofocus=!0,this.parentContainer.appendChild(o(e,e,p)),o(e,e,p)}}])&&s(t.prototype,a),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),p={writable:!0,value:null};function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(y="self")in(d=l)?Object.defineProperty(d,y,{value:null,enumerable:!0,configurable:!0,writable:!0}):d.self=null;var k="RSS_LANGUAGE",h={EN:[{code:"Backquote",key:"`",size:"standard",type:"text",shiftAnalogue:"~"},{code:"Digit1",key:"1",size:"standard",type:"text",shiftAnalogue:"!"},{code:"Digit2",key:"2",size:"standard",type:"text",shiftAnalogue:"@"},{code:"Digit3",key:"3",size:"standard",type:"text",shiftAnalogue:"#"},{code:"Digit4",key:"4",size:"standard",type:"text",shiftAnalogue:"$"},{code:"Digit5",key:"5",size:"standard",type:"text",shiftAnalogue:"%"},{code:"Digit6",key:"6",size:"standard",type:"text",shiftAnalogue:"^"},{code:"Digit7",key:"7",size:"standard",type:"text",shiftAnalogue:"&"},{code:"Digit8",key:"8",size:"standard",type:"text",shiftAnalogue:"*"},{code:"Digit9",key:"9",size:"standard",type:"text",shiftAnalogue:"("},{code:"Digit0",key:"0",size:"standard",type:"text",shiftAnalogue:")"},{code:"Minus",key:"-",size:"standard",type:"text",shiftAnalogue:"_"},{code:"Equal",key:"=",size:"standard",type:"text",shiftAnalogue:"+"},{code:"Backspace",key:"Backspace",size:"wide",type:"control"},{code:"Tab",key:"Tab",size:"medium",type:"control"},{code:"KeyQ",key:"q",size:"standard",type:"text"},{code:"KeyW",key:"w",size:"standard",type:"text"},{code:"KeyE",key:"e",size:"standard",type:"text"},{code:"KeyR",key:"r",size:"standard",type:"text"},{code:"KeyT",key:"t",size:"standard",type:"text"},{code:"KeyY",key:"y",size:"standard",type:"text"},{code:"KeyU",key:"u",size:"standard",type:"text"},{code:"KeyI",key:"i",size:"standard",type:"text"},{code:"KeyO",key:"o",size:"standard",type:"text"},{code:"KeyP",key:"p",size:"standard",type:"text"},{code:"BracketLeft",key:"[",size:"standard",type:"text",shiftAnalogue:"{"},{code:"BracketRight",key:"]",size:"standard",type:"text",shiftAnalogue:"}"},{code:"Backslash",key:"\\",size:"standard",type:"text",shiftAnalogue:"|"},{code:"Delete",key:"Del",size:"standard",type:"control"},{code:"CapsLock",key:"CapsLock",size:"double",type:"control"},{code:"KeyA",key:"a",size:"standard",type:"text"},{code:"KeyS",key:"s",size:"standard",type:"text"},{code:"KeyD",key:"d",size:"standard",type:"text"},{code:"KeyF",key:"f",size:"standard",type:"text"},{code:"KeyG",key:"g",size:"standard",type:"text"},{code:"KeyH",key:"h",size:"standard",type:"text"},{code:"KeyJ",key:"j",size:"standard",type:"text"},{code:"KeyK",key:"k",size:"standard",type:"text"},{code:"KeyL",key:"l",size:"standard",type:"text"},{code:"Semicolon",key:";",size:"standard",type:"text",shiftAnalogue:":"},{code:"Quote",key:"'",size:"standard",type:"text",shiftAnalogue:'"'},{code:"Enter",key:"Enter",size:"wide",type:"control"},{code:"ShiftLeft",key:"Shift",size:"wide",type:"control"},{code:"KeyZ",key:"z",size:"standard",type:"text"},{code:"KeyX",key:"x",size:"standard",type:"text"},{code:"KeyC",key:"c",size:"standard",type:"text"},{code:"KeyV",key:"v",size:"standard",type:"text"},{code:"KeyB",key:"b",size:"standard",type:"text"},{code:"KeyN",key:"n",size:"standard",type:"text"},{code:"KeyM",key:"m",size:"standard",type:"text"},{code:"Comma",key:",",size:"standard",type:"text",shiftAnalogue:"<"},{code:"Period",key:".",size:"standard",type:"text",shiftAnalogue:">"},{code:"Slash",key:"/",size:"standard",type:"text",shiftAnalogue:"?"},{code:"ArrowUp",key:"‚ñ≤",size:"standard",type:"control"},{code:"ShiftRight",key:"Shift",size:"double",type:"control"},{code:"ControlLeft",key:"Ctrl",size:"standard",type:"control"},{code:"MetaLeft",key:"Win",size:"standard",type:"control"},{code:"Language",key:"üåê",size:"standard",type:"lang"},{code:"AltLeft",key:"Alt",size:"standard",type:"control"},{code:"Space",key:" ",size:"space",type:"control"},{code:"AltRight",key:"Alt",size:"standard",type:"control"},{code:"ArrowLeft",key:"‚óÄ",size:"standard",type:"control"},{code:"ArrowDown",key:"‚ñº",size:"standard",type:"control"},{code:"ArrowRight",key:"‚ñ∂",size:"standard",type:"control"},{code:"ControlRight",key:"Ctrl",size:"standard",type:"control"}],RU:[{code:"Backquote",key:"—ë",size:"standard",type:"text"},{code:"Digit1",key:"1",size:"standard",type:"text",shiftAnalogue:"!"},{code:"Digit2",key:"2",size:"standard",type:"text",shiftAnalogue:'"'},{code:"Digit3",key:"3",size:"standard",type:"text",shiftAnalogue:"‚Ññ"},{code:"Digit4",key:"4",size:"standard",type:"text",shiftAnalogue:";"},{code:"Digit5",key:"5",size:"standard",type:"text",shiftAnalogue:"%"},{code:"Digit6",key:"6",size:"standard",type:"text",shiftAnalogue:":"},{code:"Digit7",key:"7",size:"standard",type:"text",shiftAnalogue:"?"},{code:"Digit8",key:"8",size:"standard",type:"text",shiftAnalogue:"*"},{code:"Digit9",key:"9",size:"standard",type:"text",shiftAnalogue:"("},{code:"Digit0",key:"0",size:"standard",type:"text",shiftAnalogue:")"},{code:"Minus",key:"-",size:"standard",type:"text",shiftAnalogue:"_"},{code:"Equal",key:"=",size:"standard",type:"text",shiftAnalogue:"+"},{code:"Backspace",key:"Backspace",size:"wide",type:"control"},{code:"Tab",key:"Tab",size:"medium",type:"control"},{code:"KeyQ",key:"–π",size:"standard",type:"text"},{code:"KeyW",key:"—Ü",size:"standard",type:"text"},{code:"KeyE",key:"—É",size:"standard",type:"text"},{code:"KeyR",key:"–∫",size:"standard",type:"text"},{code:"KeyT",key:"–µ",size:"standard",type:"text"},{code:"KeyY",key:"–Ω",size:"standard",type:"text"},{code:"KeyU",key:"–≥",size:"standard",type:"text"},{code:"KeyI",key:"—à",size:"standard",type:"text"},{code:"KeyO",key:"—â",size:"standard",type:"text"},{code:"KeyP",key:"–∑",size:"standard",type:"text"},{code:"BracketLeft",key:"—Ö",size:"standard",type:"text"},{code:"BracketRight",key:"—ä",size:"standard",type:"text"},{code:"Backslash",key:"\\",size:"standard",type:"text",shiftAnalogue:"/"},{code:"Delete",key:"Del",size:"standard",type:"control"},{code:"CapsLock",key:"CapsLock",size:"double",type:"control"},{code:"KeyA",key:"—Ñ",size:"standard",type:"text"},{code:"KeyS",key:"—ã",size:"standard",type:"text"},{code:"KeyD",key:"–≤",size:"standard",type:"text"},{code:"KeyF",key:"–∞",size:"standard",type:"text"},{code:"KeyG",key:"–ø",size:"standard",type:"text"},{code:"KeyH",key:"—Ä",size:"standard",type:"text"},{code:"KeyJ",key:"–æ",size:"standard",type:"text"},{code:"KeyK",key:"–ª",size:"standard",type:"text"},{code:"KeyL",key:"–¥",size:"standard",type:"text"},{code:"Semicolon",key:"–∂",size:"standard",type:"text"},{code:"Quote",key:"—ç",size:"standard",type:"text"},{code:"Enter",key:"Enter",size:"wide",type:"control"},{code:"ShiftLeft",key:"Shift",size:"wide",type:"control"},{code:"KeyZ",key:"—è",size:"standard",type:"text"},{code:"KeyX",key:"—á",size:"standard",type:"text"},{code:"KeyC",key:"—Å",size:"standard",type:"text"},{code:"KeyV",key:"–º",size:"standard",type:"text"},{code:"KeyB",key:"–∏",size:"standard",type:"text"},{code:"KeyN",key:"—Ç",size:"standard",type:"text"},{code:"KeyM",key:"—å",size:"standard",type:"text"},{code:"Comma",key:"–±",size:"standard",type:"text"},{code:"Period",key:"—é",size:"standard",type:"text"},{code:"Slash",key:".",size:"standard",type:"text",shiftAnalogue:","},{code:"ArrowUp",key:"‚ñ≤",size:"standard",type:"control"},{code:"ShiftRight",key:"Shift",size:"double",type:"control"},{code:"ControlLeft",key:"Ctrl",size:"standard",type:"control"},{code:"MetaLeft",key:"Win",size:"standard",type:"control"},{code:"Language",key:"üåê",size:"standard",type:"lang"},{code:"AltLeft",key:"Alt",size:"standard",type:"control"},{code:"Space",key:" ",size:"space",type:"control"},{code:"AltRight",key:"Alt",size:"standard",type:"control"},{code:"ArrowLeft",key:"‚óÄ",size:"standard",type:"control"},{code:"ArrowDown",key:"‚ñº",size:"standard",type:"control"},{code:"ArrowRight",key:"‚ñ∂",size:"standard",type:"control"},{code:"ControlRight",key:"Ctrl",size:"standard",type:"control"}]},f=function(){function e(t){var a=t.id,n=t.parentContainer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=a,this.parentContainer=n,this.keys=new Map,this.keyboard=null,this.isCapsLockOn=!1,this.language=null}var t,a;return t=e,a=[{key:"create",value:function(){var e=document.createElement("div");return e.id=this.id,this.parentContainer.appendChild(e),this.keyboard=e,this.loadKeys(),this.keyboard.addEventListener("mousedown",this.keyVirtualDown.bind(this)),this.keyboard.addEventListener("mouseup",this.keyVirtualUp.bind(this)),e}},{key:"keyDown",value:function(e){var t=e.event;t.code&&this.keys.get(t.code)&&(t.preventDefault(),l.activateTextArea(),this.keyVirtualDown(t))}},{key:"keyUp",value:function(e){var t=e.event;t.code&&this.keys.get(t.code)&&(t.preventDefault(),l.activateTextArea(),this.keyVirtualUp(t))}},{key:"keyDownControl",value:function(e){switch(e.key.key){case"Shift":this.isCapsLockOn?(this.switchToLowerCase(),this.keyboard.classList.remove("upper"),this.switchOnShiftKeys()):(this.switchToUpperCase(),this.keyboard.classList.add("upper"),this.switchOnShiftKeys());break;case"CapsLock":this.isCapsLockOn?(this.switchToLowerCase(),this.keyboard.classList.remove("caps","upper"),this.isCapsLockOn=!1):(this.switchToUpperCase(),this.keyboard.classList.add("caps","upper"),this.isCapsLockOn=!0)}}},{key:"keyUpControl",value:function(e){var t=e.key;switch(t.key){case"Shift":this.isCapsLockOn?(this.switchOffShiftKeys(),this.keyboard.classList.add("upper"),this.switchToUpperCase()):(this.switchToLowerCase(),this.keyboard.classList.remove("upper"),this.switchOffShiftKeys());break;case"Alt":t.ctrlKey&&this.switchLanguage()}l.activateTextArea()}},{key:"keyVirtualDown",value:function(e){var t=null;if("mousedown"===e.type?t=e.target.id:"keydown"===e.type&&(t=e.code),t){var a=this.keys.get(t);if(a)switch(a.keyDown({altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,repeat:e.repeat}),a.type){case"text":l.textInput(a.key);break;case"control":l.controlInput(t),this.keyDownControl({key:a})}}}},{key:"keyVirtualUp",value:function(e){var t=null;if("mouseup"===e.type?t=e.target.id:"keyup"===e.type&&(t=e.code),t){var a=this.keys.get(t);if(a)switch(a.keyUp({altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey}),a.type){case"lang":this.switchLanguage();break;case"control":this.keyUpControl({key:a})}l.activateTextArea()}}},{key:"switchToUpperCase",value:function(){var e=this;this.keys.forEach((function(t,a){var n=e.keys.get(a);"text"===n.type&&(n.key=n.key.toUpperCase())}))}},{key:"switchToLowerCase",value:function(){var e=this;this.keys.forEach((function(t,a){var n=e.keys.get(a);"text"===n.type&&(n.key=n.key.toLowerCase())}))}},{key:"switchOnShiftKeys",value:function(){var e=this;this.keys.forEach((function(t,a){var n=e.keys.get(a);n.shiftAnalogue&&(n.button.innerText=n.shiftAnalogue,n.key=n.shiftAnalogue)}))}},{key:"switchOffShiftKeys",value:function(){var e=this;this.keys.forEach((function(t,a){var n=e.keys.get(a);n.shiftAnalogue&&(n.key=n.backupKey,n.button.innerText=n.key)}))}},{key:"switchLanguage",value:function(){switch(this.language){case"EN":this.language="RU";break;case"RU":this.language="EN"}this.createKeys(h[this.language])}},{key:"loadKeys",value:function(){localStorage.getItem(k)&&(this.language=localStorage.getItem(k)),this.language in h||(this.language="EN"),this.createKeys(h[this.language])}},{key:"saveKeys",value:function(){localStorage.setItem(k,this.language)}},{key:"createKeys",value:function(e){var t=this;this.keys.clear(),this.keyboard.innerHTML="",e.forEach((function(e){var a=new i({code:e.code,key:e.key,size:e.size,type:e.type,shiftAnalogue:e.shiftAnalogue,parentContainer:t.keyboard});a.create(),t.keys.set(a.code,a)})),this.isCapsLockOn&&(this.switchToUpperCase(),this.keyboard.classList.add("caps","upper"),this.isCapsLockOn=!0),this.saveKeys()}}],a&&u(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),g=document.createElement("div");g.id="container",document.body.appendChild(g);var z=new a({parentContainer:g}).create(),v=z.main,x=z.footer;new l({id:"textarea",parentContainer:v}).create();var w=new f({id:"keyboard",parentContainer:v});w.create();var K=document.createElement("p");K.id="hintlang",K.innerText="Press the CTRL + ALT or üåê button for change the language.",x.appendChild(K);var b=document.createElement("p");b.id="hintenv",b.innerText="The keyboard was made on ‚äû Windows 11.",x.appendChild(b);var A=document.createElement("p");A.id="hintDiscord",A.innerHTML='Please,üëâ<a href="https://discordapp.com/users/878959404060405801">DISCORD</a> me if you find any errors.',x.appendChild(A),document.addEventListener("keydown",(function(e){w.keyDown({event:e})})),document.addEventListener("keyup",(function(e){w.keyUp({event:e})}))})();
//# sourceMappingURL=index.js.map